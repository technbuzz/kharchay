<ion-header>
  <ion-toolbar>
    <ion-title>Kharchay</ion-title>
    <ion-buttons end>
      <button ion-button icon-only color="royal" (click)="search()">
        <ion-icon name="search"></ion-icon>
      </button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content padding>
  <form action="" (ngSubmit)="addItem()" #form="ngForm">
    <ion-list>
        <ion-item>
          <ion-label floating>Price</ion-label>
          <ion-input required type="number" name="price" min="0" [(ngModel)]="expense.price"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label  floating>Toppings</ion-label>
          <ion-select interface="popover" required name="category" [(ngModel)]="expense.category">
            <ion-option>Food</ion-option>
            <ion-option>Entertainment</ion-option>
            <ion-option>Transport</ion-option>
            <ion-option>Bills</ion-option>
            <ion-option>Medicine</ion-option>
          </ion-select>
        </ion-item>
      
        <ion-item>
          <ion-label floating>Note</ion-label>
          <ion-input type="text" name="note" [(ngModel)]="expense.note"></ion-input>
        </ion-item>
      </ion-list>
      <button type="submit" [disabled]="form.invalid" ion-button color="primary">Add</button>      
  </form>

  <h2>List of Data</h2>

  <div *ngFor="let item of expenses | async">
    <h4>{{item.price}}</h4>
    <p>{{item.note}}</p>
    <button type="button" class="btn " (click)="update(item)">Update</button>
    <button type="button" class="btn " (click)="delete()">Delete</button>
    {{item | json}}
  </div>
</ion-content>
